<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
            integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
            crossorigin="anonymous"></script>
</head>
<body>
<h2>BGPanel DCD Dashboard</h2>
<table class="table table-striped table-hover table-sm">
    <thead>
    <tr>
        <th>BoxName</th>
        <th>ipAddress</th>
        <th>lastFetched</th>
        <th>configsGenerated</th>
        <th>configsFetched</th>
        <th>configsApplied</th>
        <th>configsFailed</th>
    </tr>
    </thead>
    <tbody>
    {% for box in info %}
        {% if box.generatedAmount == -1 or box.totalAmount == -1 or box.successAmount == -1 or box.errorAmount == -1 %}
            <tr class="table-danger">
        {% else %}
            <tr>
        {% endif %}
            <th scope="row">
                {{ box.name }}
            </th>
            <td>
                {{ box.ip }}
            </td>
            {% if box.secondsAgo > 105 %}
        <td class="table-warning">
            {% else %}
            <td>
            {% endif %}
            {{ box.timeAgo }}
            </td>
            {% if box.generatedAmount != box.totalAmount %}
        <td class="table-info">
            {% else %}
            <td>
            {% endif %}
            <a href="/?ip={{ box.ip }}">{{ box.generatedAmount }}</a>
            </td>
            {% if box.generatedAmount != box.totalAmount %}
        <td class="table-info">
            {% else %}
            <td>
            {% endif %}
            {{ box.totalAmount }}
            </td>
            <td>
                {{ box.successAmount }}
            </td>
            {% if box.errorAmount > 0 %}
            <td class="table-danger">
                {% else %}
            <td>
            {% endif %}
            {{ box.errorAmount }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</body>
</html>
